[user]
	name  = PotHix
	email = pothix@pothix.com

[alias]
	br = branch
	ci = commit
	co = checkout
	pom = push origin master
	rank = shortlog -sn --no-merges
	st = status
	list-stable = !git tags | grep stable | sort -t . -k 1.8,1 -k 2,2 -k 3,3 -n
	list-testing = !git tags | grep testing | sort -t . -k 1.9,1 -k 2,2 -k 3,3 -n
	tags = !git for-each-ref refs/tags/* --format='%(refname)' --sort='authordate' | sed 's/refs\\/tags\\///g'
	tree = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%Creset %Cblue%an%Creset' --abbrev-commit --date=relative
	today = !git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%Creset' --abbrev-commit --date=relative --since=$(date --rfc-3339=date --date=yesterday)
	unadd = reset HEAD --
	autoremove = "!f() { \
		whitelist=\"master|staging|dev|legacy\"; \
		git fetch --prune; \
		if [ -z \"$1\" ]; then \
			list=$(git branch --merged | egrep -v \"(^\\*|$whitelist)\") && \
			cmd='echo \"$list\" | xargs -n 1 git branch -d'; \
		else \
			list=$(git branch -r --merged | grep \"$1\" | egrep -v \"(>|$whitelist)\") && \
			cmd='echo \"$list\" | cut -d'/' -f2- | xargs -n 1 git push \"$1\" --delete'; \
		fi; \
		echo \"On branch $(git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \\(.*\\)/\\1/'). \"; echo \"\"; \
		if [ -z \"$list\" ]; then \
			echo \"No branches to remove.\"; \
		else \
			echo \"Branches to remove:\"; echo \"$list\"; echo \"\"; \
			read -p 'Press enter to continue'; echo \" \"; \
			eval $cmd; \
		fi \
	}; f"

[apply]
	whitespace=fix

[color]
	branch = auto
	diff = auto
	interactive = auto
	status = auto
	ui = true

[core]
	editor = vim
	excludesfile = ~/.gitignore
	pager = less -FRSX

[help]
	autocorrect = 1

[push]
	default = current


# http://www.kernel.org/pub/software/scm/git/docs/git-rerere.html
# http://progit.org/2010/03/08/rerere.html
[rerere]
	enabled = true


# ########################
# GitHub and Gitorious
# ########################

[github]
	user = PotHix

[url "git://gitorious.org/"]
	insteadOf = gitorious:

[url "git@gitorious.org:"]
	pushInsteadOf = gitorious:

[url "git://github.com/"]
	insteadOf = github:

[url "git@github.com:"]
	pushInsteadOf = github:
